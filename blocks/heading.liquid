<style>
  {% if block.settings.header_line == true %}
    #header-{{ block.id }} {
      position: relative;
      width: 100%;
    }

    #header-{{ block.id }}:before {
      content: "";
      display: block;
      position: absolute;
      top: calc(50% - 1px);
      left: 0;
      width: 100%;
      height: 1px;
      background: {{ block.settings.text_color }};
    }

    #header-{{ block.id }} .text-custom {
      position: relative;
      z-index: 1;
      background: white;
      display: inline-block;
      padding: 0 20px;
    }

    @media screen and (min-width: 700px) {
      #header-{{ block.id }} .text-custom {
        width: 420px;
      }
    }
  {% endif %}
</style>

{%- if block.settings.text != blank -%}
  {%- assign html_tag = block.settings.html_tag -%}

  <{{ html_tag }} class="{{ block.settings.size }}" id="header-{{ block.id }}" {{ block.shopify_attributes }}>
    {%- render 'styled-text',
      content: block.settings.text,
      text_color: block.settings.text_color,
      gradient: block.settings.gradient
    -%}
  </{{ html_tag }}>
{%- endif -%}

{% schema %}
{
  "name": "Heading",
  "tag": null,
  "settings": [
    {
      "type": "checkbox",
      "id": "header_line",
      "label": "Show header line"
    },
    {
      "type": "text",
      "id": "text",
      "label": "Text",
      "default": "Heading"
    },
    {
      "type": "select",
      "id": "size",
      "label": "Size",
      "options": [
        {
          "value": "h1",
          "label": "X-Large"
        },
        {
          "value": "h2",
          "label": "Large"
        },
        {
          "value": "h3",
          "label": "Medium"
        },
        {
          "value": "h4",
          "label": "Small"
        },
        {
          "value": "h5",
          "label": "X-Small"
        },
        {
          "value": "h6",
          "label": "XX-Small"
        }
      ],
      "default": "h1"
    },
    {
      "type": "select",
      "id": "html_tag",
      "label": "HTML tag",
      "info": "Maintain a logical hierarchy with hX tags (e.g., donâ€™t use h3 before h1). Use paragraph tag if unsure.",
      "options": [
        {
          "value": "p",
          "label": "Paragraph"
        },
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h2",
          "label": "H2"
        },
        {
          "value": "h3",
          "label": "H3"
        },
        {
          "value": "h4",
          "label": "H4"
        },
        {
          "value": "h5",
          "label": "H5"
        },
        {
          "value": "h6",
          "label": "H6"
        }
      ],
      "default": "p"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color"
    },
    {
      "type": "color_background",
      "id": "gradient",
      "label": "Gradient"
    }
  ],
  "presets": [
    {
      "name": "Heading"
    }
  ]
}
{% endschema %}
